Ê(
rC:\Users\akash\Desktop\DevelopersBuddy\DevelopersBuddy\DevelopersBuddyProject.Repositories\CategoriesRepository.cs
	namespace 	"
DevelopersBuddyProject
  
.  !
Repositories! -
{		 
public

 

	interface

 !
ICategoriesRepository

 *
{ 
void 
InsertCategory 
( 
Category $
category% -
)- .
;. /
void 
UpdateCategory 
( 
Category $
category% -
)- .
;. /
void 
DeleteCategory 
( 
int 

categoryId  *
)* +
;+ ,
List 
< 
Category 
> 
GetCategories $
($ %
)% &
;& '
List 
< 
Category 
> #
GetCategoryByCategoryId .
(. /
int/ 2

categoryId3 =
)= >
;> ?
} 
public 

class  
CategoriesRepository %
:& '!
ICategoriesRepository( =
{ 
readonly ,
 DevelopersBuddyDatabaseDbContext 1
db2 4
;4 5
public  
CategoriesRepository #
(# $
)$ %
{ 	
db 
= 
new ,
 DevelopersBuddyDatabaseDbContext 5
(5 6
)6 7
;7 8
} 	
public 
void 
DeleteCategory "
(" #
int# &

categoryId' 1
)1 2
{ 	
Category 
existingCategory %
=& '
db( *
.* +

Categories+ 5
.5 6
Where6 ;
(; <
x< =
=>> @
xA B
.B C

CategoryIdC M
==N P

categoryIdQ [
)[ \
.\ ]
FirstOrDefault] k
(k l
)l m
;m n
if 
( 
existingCategory  
!=! #
null$ (
)( )
{ 
db 
. 

Categories 
. 
Remove $
($ %
existingCategory% 5
)5 6
;6 7
db 
. 
SaveChanges 
( 
)  
;  !
}   
}!! 	
public## 
List## 
<## 
Category## 
>## 
GetCategories## +
(##+ ,
)##, -
{$$ 	
List%% 
<%% 
Category%% 
>%% 

categories%% %
=%%& '
db%%( *
.%%* +

Categories%%+ 5
.%%5 6
ToList%%6 <
(%%< =
)%%= >
;%%> ?
return&& 

categories&& 
;&& 
}'' 	
public)) 
List)) 
<)) 
Category)) 
>)) #
GetCategoryByCategoryId)) 5
())5 6
int))6 9

categoryId)): D
)))D E
{** 	
List++ 
<++ 
Category++ 
>++ 
category++ #
=++$ %
db++& (
.++( )

Categories++) 3
.++3 4
Where++4 9
(++9 :
x++: ;
=>++< >
x++? @
.++@ A

CategoryId++A K
==++L N

categoryId++O Y
)++Y Z
.++Z [
ToList++[ a
(++a b
)++b c
;++c d
return,, 
category,, 
;,, 
}-- 	
public// 
void// 
InsertCategory// "
(//" #
Category//# +
category//, 4
)//4 5
{00 	
db11 
.11 

Categories11 
.11 
Add11 
(11 
category11 &
)11& '
;11' (
db22 
.22 
SaveChanges22 
(22 
)22 
;22 
}33 	
public55 
void55 
UpdateCategory55 "
(55" #
Category55# +
category55, 4
)554 5
{66 	
Category77 
existingCategory77 %
=77& '
db77( *
.77* +

Categories77+ 5
.775 6
Where776 ;
(77; <
x77< =
=>77> @
x77A B
.77B C

CategoryId77C M
==77N P
category77Q Y
.77Y Z

CategoryId77Z d
)77d e
.77e f
FirstOrDefault77f t
(77t u
)77u v
;77v w
if88 
(88 
existingCategory88  
!=88! #
null88$ (
)88( )
{99 
existingCategory::  
.::  !
CategoryName::! -
=::. /
category::0 8
.::8 9
CategoryName::9 E
;::E F
db;; 
.;; 
SaveChanges;; 
(;; 
);;  
;;;  !
}<< 
}== 	
}>> 
}??  
uC:\Users\akash\Desktop\DevelopersBuddy\DevelopersBuddy\DevelopersBuddyProject.Repositories\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str >
)> ?
]? @
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str @
)@ A
]A B
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *ÏF
mC:\Users\akash\Desktop\DevelopersBuddy\DevelopersBuddy\DevelopersBuddyProject.Repositories\UsersRepository.cs
	namespace 	"
DevelopersBuddyProject
  
.  !
Repositories! -
{		 
public

 

	interface

 
IUsersRepository

 %
{ 
void 

InsertUser 
( 
User 
user !
)! "
;" #
void 
UpdateUserDetails 
( 
User #
user$ (
)( )
;) *
void 
UpdateUserPassword 
(  
User  $
user% )
)) *
;* +
void 

DeleteUser 
( 
int 
userId "
)" #
;# $
List 
< 
User 
> 
GetUsers 
( 
) 
; 
List 
< 
User 
> &
GetUsersByEmailAndPassword -
(- .
string. 4
email5 :
,: ;
string< B
passwordC K
)K L
;L M
List 
< 
User 
> 
GetUsersByEmail "
(" #
string# )
email* /
)/ 0
;0 1
List 
< 
User 
> 
GetUsersByUserId #
(# $
int$ '
userId( .
). /
;/ 0
int 
GetLatestUserId 
( 
) 
; 
} 
public 

class 
UsersRepository  
:! "
IUsersRepository# 3
{ 
readonly ,
 DevelopersBuddyDatabaseDbContext 1
db2 4
;4 5
public 
UsersRepository 
( 
)  
{ 	
db 
= 
new ,
 DevelopersBuddyDatabaseDbContext 5
(5 6
)6 7
;7 8
} 	
public 
void 

DeleteUser 
( 
int "
userId# )
)) *
{ 	
User   
existingUser   
=   
db    "
.  " #
Users  # (
.  ( )
Where  ) .
(  . /
x  / 0
=>  1 3
x  4 5
.  5 6
UserId  6 <
==  = ?
userId  @ F
)  F G
.  G H
FirstOrDefault  H V
(  V W
)  W X
;  X Y
if!! 
(!! 
existingUser!! 
!=!! 
null!!  $
)!!$ %
{"" 
db## 
.## 
Users## 
.## 
Remove## 
(##  
existingUser##  ,
)##, -
;##- .
db$$ 
.$$ 
SaveChanges$$ 
($$ 
)$$  
;$$  !
}%% 
}&& 	
public(( 
int(( 
GetLatestUserId(( "
(((" #
)((# $
{)) 	
int** 
userId** 
=** 
db** 
.** 
Users** !
.**! "
Select**" (
(**( )
x**) *
=>**+ -
x**. /
.**/ 0
UserId**0 6
)**6 7
.**7 8
Max**8 ;
(**; <
)**< =
;**= >
return++ 
userId++ 
;++ 
},, 	
public.. 
List.. 
<.. 
User.. 
>.. 
GetUsers.. "
(.." #
)..# $
{// 	
List00 
<00 
User00 
>00 
users00 
=00 
db00 !
.00! "
Users00" '
.00' (
Where00( -
(00- .
x00. /
=>000 2
!003 4
x004 5
.005 6
IsAdmin006 =
)00= >
.00> ?
OrderBy00? F
(00F G
x00G H
=>00I K
x00L M
.00M N
Name00N R
)00R S
.00S T
ToList00T Z
(00Z [
)00[ \
;00\ ]
return11 
users11 
;11 
}22 	
public44 
List44 
<44 
User44 
>44 
GetUsersByEmail44 )
(44) *
string44* 0
email441 6
)446 7
{55 	
List66 
<66 
User66 
>66 
users66 
=66 
db66 !
.66! "
Users66" '
.66' (
Where66( -
(66- .
x66. /
=>660 2
x663 4
.664 5
Email665 :
==66; =
email66> C
)66C D
.66D E
ToList66E K
(66K L
)66L M
;66M N
return77 
users77 
;77 
}88 	
public:: 
List:: 
<:: 
User:: 
>:: &
GetUsersByEmailAndPassword:: 4
(::4 5
string::5 ;
email::< A
,::A B
string::C I
password::J R
)::R S
{;; 	
List<< 
<<< 
User<< 
><< 
users<< 
=<< 
db<< !
.<<! "
Users<<" '
.<<' (
Where<<( -
(<<- .
x<<. /
=><<0 2
x<<3 4
.<<4 5
Email<<5 :
==<<: <
email<<< A
&&<<B D
x<<E F
.<<F G
PasswordHash<<G S
==<<S U
password<<U ]
)<<] ^
.<<^ _
ToList<<_ e
(<<e f
)<<f g
;<<g h
return== 
users== 
;== 
}>> 	
public@@ 
List@@ 
<@@ 
User@@ 
>@@ 
GetUsersByUserId@@ *
(@@* +
int@@+ .
userId@@/ 5
)@@5 6
{AA 	
ListBB 
<BB 
UserBB 
>BB 
usersBB 
=BB 
dbBB !
.BB! "
UsersBB" '
.BB' (
WhereBB( -
(BB- .
xBB. /
=>BB0 2
xBB3 4
.BB4 5
UserIdBB5 ;
==BB; =
userIdBB= C
)BBC D
.BBD E
ToListBBE K
(BBK L
)BBL M
;BBM N
returnCC 
usersCC 
;CC 
}DD 	
publicFF 
voidFF 

InsertUserFF 
(FF 
UserFF #
userFF$ (
)FF( )
{GG 	
dbHH 
.HH 
UsersHH 
.HH 
AddHH 
(HH 
userHH 
)HH 
;HH 
dbII 
.II 
SaveChangesII 
(II 
)II 
;II 
}JJ 	
publicLL 
voidLL 
UpdateUserDetailsLL %
(LL% &
UserLL& *
userLL+ /
)LL/ 0
{MM 	
UserNN 
existingUserNN 
=NN 
dbNN  "
.NN" #
UsersNN# (
.NN( )
WhereNN) .
(NN. /
xNN/ 0
=>NN1 3
xNN4 5
.NN5 6
UserIdNN6 <
==NN= ?
userNN@ D
.NND E
UserIdNNE K
)NNK L
.NNL M
FirstOrDefaultNNM [
(NN[ \
)NN\ ]
;NN] ^
ifOO 
(OO 
existingUserOO 
!=OO 
nullOO  $
)OO$ %
{PP 
existingUserQQ 
.QQ 
NameQQ !
=QQ" #
userQQ$ (
.QQ( )
NameQQ) -
;QQ- .
existingUserRR 
.RR 
MobileRR #
=RR$ %
userRR& *
.RR* +
MobileRR+ 1
;RR1 2
dbSS 
.SS 
SaveChangesSS 
(SS 
)SS  
;SS  !
}TT 
}UU 	
publicWW 
voidWW 
UpdateUserPasswordWW &
(WW& '
UserWW' +
userWW, 0
)WW0 1
{XX 	
UserYY 
existingUserYY 
=YY 
dbYY  "
.YY" #
UsersYY# (
.YY( )
WhereYY) .
(YY. /
xYY/ 0
=>YY1 3
xYY4 5
.YY5 6
UserIdYY6 <
==YY= ?
userYY@ D
.YYD E
UserIdYYE K
)YYK L
.YYL M
FirstOrDefaultYYM [
(YY[ \
)YY\ ]
;YY] ^
ifZZ 
(ZZ 
existingUserZZ 
!=ZZ 
nullZZ  $
)ZZ$ %
{[[ 
existingUser\\ 
.\\ 
PasswordHash\\ )
=\\* +
user\\, 0
.\\0 1
PasswordHash\\1 =
;\\= >
db]] 
.]] 
SaveChanges]] 
(]] 
)]]  
;]]  !
}^^ 
}__ 	
}`` 
}aa 